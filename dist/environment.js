import A from"is-number";function l(e){return e!==null&&typeof e=="object"&&Array.isArray(e)===!1}function a(e){return Array.isArray(e)}var s=globalThis.window,p=!s&&globalThis.self,b=globalThis.process;function y(){return s&&"browser"||p&&"webWorker"||b&&"node"}function k(e){return e===y()}function w(){return v("MODE",!0)}function G(e){return e===w()}function v(e,u,t="",{required:f=!1,defaultValue:c,staticValue:g,ignoreTarget:d,rename:m}={}){let r=function h(n){if(a(n))for(let i=n.length-1;i>=0;i--){let o=h(n[i]);if(o)return o}return l(n)?n?.[t]:n}(e)||g||c||void 0;if(f&&!r)throw new Error(`Missing environment variable:${t}`);return d?r:Object.assign(u??{},{[m??t]:r})}export{w as detectMode,y as detectRuntime,v as getEnvar,G as isMode,k as isRuntime};
