import O from"is-number";function l(e){return e!==null&&typeof e=="object"&&Array.isArray(e)===!1}function a(e){return Array.isArray(e)}var s=globalThis.window,h=!s&&globalThis.self,m=globalThis.process;function p(){return s&&"browser"||h&&"webWorker"||m&&"node"}function T(e){return e===p()}function b(){return y("MODE",!0)}function z(e){return e===b()}function y(e,u,t="",{required:f=!1,defaultValue:c,staticValue:g}={}){let r=globalThis.process?.env[t]||function d(n){if(a(n))for(let i=n.length-1;i>=0;i--){let o=d(n[i]);if(o)return o}return l(n)?n[t]:n}(u)||g||c||void 0;if(f&&!r)throw new Error(`Missing environment variable:${t}`);return e?Object.assign(e,{[t]:r}):r}export{b as detectMode,p as detectRuntime,y as getEnvar,z as isMode,T as isRuntime};
